<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
        <title>Meu Primeiro Jogo Multiplayer</title>
        <style>
            #screen {
                border: 10px solid #CCC;
                image-rendering: pixelated;
                image-rendering: crisp-edges;
                image-rendering: -moz-crisp-edges;
                width: 400px;
                height: 400px;
            }
        </style>
</head>
<body>
    <canvas id="screen" width="10" height="10"></canvas>
    <script type="module">
        import renderScreen from './render-screen.js'
        import createGame from './game.js'
        import createKeyboardListener from './keyboard-listener.js'

        const screen = document.getElementById("screen")        
        const currentPlayerId = "player1"   
        
        const game = createGame()
        const keyboardListener = createKeyboardListener(document)
        keyboardListener.subscribe(game.movePlayer)

        renderScreen(screen, game, requestAnimationFrame)

        game.addPlayer({playerId: "player1", playerX: 1, playerY: 2})
        game.addFruit({fruitId: "fruit1", fruitX: 3, fruitY: 3})     

    </script>
    
</body>
</html>